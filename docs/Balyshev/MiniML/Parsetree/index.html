<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Parsetree (Balyshev.MiniML.Parsetree)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">Balyshev</a> &#x00BB; <a href="../index.html">MiniML</a> &#x00BB; Parsetree</nav><header class="odoc-preamble"><h1>Module <code><span>MiniML.Parsetree</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-rec_flag"><a href="#type-rec_flag" class="anchor"></a><code><span><span class="keyword">type</span> rec_flag</span><span> = </span></code><ol><li id="type-rec_flag.Recursive" class="def variant constructor anchored"><a href="#type-rec_flag.Recursive" class="anchor"></a><code><span>| </span><span><span class="constructor">Recursive</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>for <code> let rec patt = expr </code></p><span class="comment-delim">*)</span></div></li><li id="type-rec_flag.NonRecursive" class="def variant constructor anchored"><a href="#type-rec_flag.NonRecursive" class="anchor"></a><code><span>| </span><span><span class="constructor">NonRecursive</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>for <code> let patt = expr </code></p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_rec_flag"><a href="#val-show_rec_flag" class="anchor"></a><code><span><span class="keyword">val</span> show_rec_flag : <span><a href="#type-rec_flag">rec_flag</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-list1"><a href="#type-list1" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a list1</span></span><span> = <span class="type-var">'a</span> * <span><span class="type-var">'a</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-constant"><a href="#type-constant" class="anchor"></a><code><span><span class="keyword">type</span> constant</span><span> = </span></code><ol><li id="type-constant.CUnit" class="def variant constructor anchored"><a href="#type-constant.CUnit" class="anchor"></a><code><span>| </span><span><span class="constructor">CUnit</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> () </code></p><span class="comment-delim">*)</span></div></li><li id="type-constant.CInt" class="def variant constructor anchored"><a href="#type-constant.CInt" class="anchor"></a><code><span>| </span><span><span class="constructor">CInt</span> <span class="keyword">of</span> int</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> 666 </code></p><span class="comment-delim">*)</span></div></li><li id="type-constant.CBool" class="def variant constructor anchored"><a href="#type-constant.CBool" class="anchor"></a><code><span>| </span><span><span class="constructor">CBool</span> <span class="keyword">of</span> bool</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> true, false </code></p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_constant"><a href="#val-show_constant" class="anchor"></a><code><span><span class="keyword">val</span> show_constant : <span><a href="#type-constant">constant</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-binop"><a href="#type-binop" class="anchor"></a><code><span><span class="keyword">type</span> binop</span><span> = </span></code><ol><li id="type-binop.Add" class="def variant constructor anchored"><a href="#type-binop.Add" class="anchor"></a><code><span>| </span><span><span class="constructor">Add</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> + </code></p><span class="comment-delim">*)</span></div></li><li id="type-binop.Mul" class="def variant constructor anchored"><a href="#type-binop.Mul" class="anchor"></a><code><span>| </span><span><span class="constructor">Mul</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> * </code></p><span class="comment-delim">*)</span></div></li><li id="type-binop.Sub" class="def variant constructor anchored"><a href="#type-binop.Sub" class="anchor"></a><code><span>| </span><span><span class="constructor">Sub</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> - </code></p><span class="comment-delim">*)</span></div></li><li id="type-binop.Div" class="def variant constructor anchored"><a href="#type-binop.Div" class="anchor"></a><code><span>| </span><span><span class="constructor">Div</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> / </code></p><span class="comment-delim">*)</span></div></li><li id="type-binop.Eq" class="def variant constructor anchored"><a href="#type-binop.Eq" class="anchor"></a><code><span>| </span><span><span class="constructor">Eq</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> == </code></p><span class="comment-delim">*)</span></div></li><li id="type-binop.Ne" class="def variant constructor anchored"><a href="#type-binop.Ne" class="anchor"></a><code><span>| </span><span><span class="constructor">Ne</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> &lt;&gt; </code></p><span class="comment-delim">*)</span></div></li><li id="type-binop.Le" class="def variant constructor anchored"><a href="#type-binop.Le" class="anchor"></a><code><span>| </span><span><span class="constructor">Le</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> &lt;= </code></p><span class="comment-delim">*)</span></div></li><li id="type-binop.Ge" class="def variant constructor anchored"><a href="#type-binop.Ge" class="anchor"></a><code><span>| </span><span><span class="constructor">Ge</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> &gt;= </code></p><span class="comment-delim">*)</span></div></li><li id="type-binop.Lt" class="def variant constructor anchored"><a href="#type-binop.Lt" class="anchor"></a><code><span>| </span><span><span class="constructor">Lt</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> &lt; </code></p><span class="comment-delim">*)</span></div></li><li id="type-binop.Gt" class="def variant constructor anchored"><a href="#type-binop.Gt" class="anchor"></a><code><span>| </span><span><span class="constructor">Gt</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> &gt; </code></p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_binop"><a href="#val-show_binop" class="anchor"></a><code><span><span class="keyword">val</span> show_binop : <span><a href="#type-binop">binop</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-pattern"><a href="#type-pattern" class="anchor"></a><code><span><span class="keyword">type</span> pattern</span><span> = </span></code><ol><li id="type-pattern.PAny" class="def variant constructor anchored"><a href="#type-pattern.PAny" class="anchor"></a><code><span>| </span><span><span class="constructor">PAny</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> _ </code></p><span class="comment-delim">*)</span></div></li><li id="type-pattern.PConstant" class="def variant constructor anchored"><a href="#type-pattern.PConstant" class="anchor"></a><code><span>| </span><span><span class="constructor">PConstant</span> <span class="keyword">of</span> <a href="#type-constant">constant</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> PConstant 666 </code></p><span class="comment-delim">*)</span></div></li><li id="type-pattern.PVar" class="def variant constructor anchored"><a href="#type-pattern.PVar" class="anchor"></a><code><span>| </span><span><span class="constructor">PVar</span> <span class="keyword">of</span> string</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> PVar &quot;var_name&quot; </code></p><span class="comment-delim">*)</span></div></li><li id="type-pattern.PTuple" class="def variant constructor anchored"><a href="#type-pattern.PTuple" class="anchor"></a><code><span>| </span><span><span class="constructor">PTuple</span> <span class="keyword">of</span> <a href="#type-pattern">pattern</a> * <a href="#type-pattern">pattern</a> * <span><a href="#type-pattern">pattern</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> (patt1, patt2, [ patt3; ...; pattN ]) </code></p><span class="comment-delim">*)</span></div></li><li id="type-pattern.PConstruct" class="def variant constructor anchored"><a href="#type-pattern.PConstruct" class="anchor"></a><code><span>| </span><span><span class="constructor">PConstruct</span> <span class="keyword">of</span> string * <span><a href="#type-pattern">pattern</a> option</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> Some 666, None, Ok (1, 2, 3) </code> etc.</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_pattern"><a href="#val-show_pattern" class="anchor"></a><code><span><span class="keyword">val</span> show_pattern : <span><a href="#type-pattern">pattern</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_pattern"><a href="#val-pp_pattern" class="anchor"></a><code><span><span class="keyword">val</span> pp_pattern : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-pattern">pattern</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-expression"><a href="#type-expression" class="anchor"></a><code><span><span class="keyword">type</span> expression</span><span> = </span></code><ol><li id="type-expression.EConstant" class="def variant constructor anchored"><a href="#type-expression.EConstant" class="anchor"></a><code><span>| </span><span><span class="constructor">EConstant</span> <span class="keyword">of</span> <a href="#type-constant">constant</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> EConstant 666 </code></p><span class="comment-delim">*)</span></div></li><li id="type-expression.EVar" class="def variant constructor anchored"><a href="#type-expression.EVar" class="anchor"></a><code><span>| </span><span><span class="constructor">EVar</span> <span class="keyword">of</span> string</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> EVar &quot;var_name&quot; </code></p><span class="comment-delim">*)</span></div></li><li id="type-expression.ETuple" class="def variant constructor anchored"><a href="#type-expression.ETuple" class="anchor"></a><code><span>| </span><span><span class="constructor">ETuple</span> <span class="keyword">of</span> <a href="#type-expression">expression</a> * <a href="#type-expression">expression</a> * <span><a href="#type-expression">expression</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> (expr1, expr2, [ expr3; ...; exprN ]) </code></p><span class="comment-delim">*)</span></div></li><li id="type-expression.EBinop" class="def variant constructor anchored"><a href="#type-expression.EBinop" class="anchor"></a><code><span>| </span><span><span class="constructor">EBinop</span> <span class="keyword">of</span> <a href="#type-binop">binop</a> * <a href="#type-expression">expression</a> * <a href="#type-expression">expression</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> expr1 * expr2 </code></p><span class="comment-delim">*)</span></div></li><li id="type-expression.ELet" class="def variant constructor anchored"><a href="#type-expression.ELet" class="anchor"></a><code><span>| </span><span><span class="constructor">ELet</span> <span class="keyword">of</span> <a href="#type-rec_flag">rec_flag</a> * <span><span>(<a href="#type-pattern">pattern</a> * <a href="#type-expression">expression</a>)</span> <a href="#type-list1">list1</a></span> * <a href="#type-expression">expression</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> let patt1 = expr1 and patt2 = expr2 and ... and pattN = exprN in expr </code></p><span class="comment-delim">*)</span></div></li><li id="type-expression.EFun" class="def variant constructor anchored"><a href="#type-expression.EFun" class="anchor"></a><code><span>| </span><span><span class="constructor">EFun</span> <span class="keyword">of</span> <a href="#type-pattern">pattern</a> * <a href="#type-expression">expression</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> fun pattern -&gt; expression </code></p><span class="comment-delim">*)</span></div></li><li id="type-expression.EIf" class="def variant constructor anchored"><a href="#type-expression.EIf" class="anchor"></a><code><span>| </span><span><span class="constructor">EIf</span> <span class="keyword">of</span> <a href="#type-expression">expression</a> * <a href="#type-expression">expression</a> * <a href="#type-expression">expression</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> if expr1 then expr2 else expr3 </code></p><span class="comment-delim">*)</span></div></li><li id="type-expression.EApp" class="def variant constructor anchored"><a href="#type-expression.EApp" class="anchor"></a><code><span>| </span><span><span class="constructor">EApp</span> <span class="keyword">of</span> <a href="#type-expression">expression</a> * <a href="#type-expression">expression</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> expr1 expr2 </code></p><span class="comment-delim">*)</span></div></li><li id="type-expression.EConstruct" class="def variant constructor anchored"><a href="#type-expression.EConstruct" class="anchor"></a><code><span>| </span><span><span class="constructor">EConstruct</span> <span class="keyword">of</span> string * <span><a href="#type-expression">expression</a> option</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> Some 666, None, Ok (1, 2, 3) </code> etc.</p><span class="comment-delim">*)</span></div></li><li id="type-expression.EMatch" class="def variant constructor anchored"><a href="#type-expression.EMatch" class="anchor"></a><code><span>| </span><span><span class="constructor">EMatch</span> <span class="keyword">of</span> <a href="#type-expression">expression</a> * <span><span>(<a href="#type-pattern">pattern</a> * <a href="#type-expression">expression</a>)</span> <a href="#type-list1">list1</a></span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> match expession with | patt1 -&gt; expr1 ... | pattN -&gt; exprN </code></p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_expression"><a href="#val-show_expression" class="anchor"></a><code><span><span class="keyword">val</span> show_expression : <span><a href="#type-expression">expression</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_expression"><a href="#val-pp_expression" class="anchor"></a><code><span><span class="keyword">val</span> pp_expression : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-expression">expression</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-value_binding"><a href="#type-value_binding" class="anchor"></a><code><span><span class="keyword">type</span> value_binding</span><span> = <a href="#type-pattern">pattern</a> * <a href="#type-expression">expression</a></span></code></div><div class="spec-doc"><p><code> let pattern = expression </code></p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-core_type"><a href="#type-core_type" class="anchor"></a><code><span><span class="keyword">type</span> core_type</span><span> = </span></code><ol><li id="type-core_type.Pty_var" class="def variant constructor anchored"><a href="#type-core_type.Pty_var" class="anchor"></a><code><span>| </span><span><span class="constructor">Pty_var</span> <span class="keyword">of</span> string</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> 'a, 'b </code> are type variables in <code> type ('a, 'b) ty = ... </code></p><span class="comment-delim">*)</span></div></li><li id="type-core_type.Pty_arrow" class="def variant constructor anchored"><a href="#type-core_type.Pty_arrow" class="anchor"></a><code><span>| </span><span><span class="constructor">Pty_arrow</span> <span class="keyword">of</span> <a href="#type-core_type">core_type</a> * <a href="#type-core_type">core_type</a></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>'a -&gt; 'b</code></p><span class="comment-delim">*)</span></div></li><li id="type-core_type.Pty_tuple" class="def variant constructor anchored"><a href="#type-core_type.Pty_tuple" class="anchor"></a><code><span>| </span><span><span class="constructor">Pty_tuple</span> <span class="keyword">of</span> <a href="#type-core_type">core_type</a> * <a href="#type-core_type">core_type</a> * <span><a href="#type-core_type">core_type</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> 'a * 'b * 'c </code></p><span class="comment-delim">*)</span></div></li><li id="type-core_type.Pty_constr" class="def variant constructor anchored"><a href="#type-core_type.Pty_constr" class="anchor"></a><code><span>| </span><span><span class="constructor">Pty_constr</span> <span class="keyword">of</span> string * <span><a href="#type-core_type">core_type</a> list</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> int </code>, <code>'a option</code>, <code> ('a, 'b) list </code></p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_core_type"><a href="#val-show_core_type" class="anchor"></a><code><span><span class="keyword">val</span> show_core_type : <span><a href="#type-core_type">core_type</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_core_type"><a href="#val-pp_core_type" class="anchor"></a><code><span><span class="keyword">val</span> pp_core_type : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-core_type">core_type</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-type_kind"><a href="#type-type_kind" class="anchor"></a><code><span><span class="keyword">type</span> type_kind</span><span> = </span></code><ol><li id="type-type_kind.Pty_abstract" class="def variant constructor anchored"><a href="#type-type_kind.Pty_abstract" class="anchor"></a><code><span>| </span><span><span class="constructor">Pty_abstract</span> <span class="keyword">of</span> <span><a href="#type-core_type">core_type</a> option</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> type t </code>, <code> type t = x </code></p><span class="comment-delim">*)</span></div></li><li id="type-type_kind.Pty_variants" class="def variant constructor anchored"><a href="#type-type_kind.Pty_variants" class="anchor"></a><code><span>| </span><span><span class="constructor">Pty_variants</span> <span class="keyword">of</span> <span><span>(string * <span><a href="#type-core_type">core_type</a> option</span>)</span> <a href="#type-list1">list1</a></span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> type t = Some of int | None </code></p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-type_declaration"><a href="#type-type_declaration" class="anchor"></a><code><span><span class="keyword">type</span> type_declaration</span><span> = </span><span>{</span></code><ol><li id="type-type_declaration.pty_params" class="def record field anchored"><a href="#type-type_declaration.pty_params" class="anchor"></a><code><span>pty_params : <span>string list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>'a</code> is param in <code>type 'a list = ...</code></p><span class="comment-delim">*)</span></div></li><li id="type-type_declaration.pty_name" class="def record field anchored"><a href="#type-type_declaration.pty_name" class="anchor"></a><code><span>pty_name : string;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>list</code> is name in <code>type 'a list = ...</code></p><span class="comment-delim">*)</span></div></li><li id="type-type_declaration.pty_kind" class="def record field anchored"><a href="#type-type_declaration.pty_kind" class="anchor"></a><code><span>pty_kind : <a href="#type-type_kind">type_kind</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>abstract, adt, record etc.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-structure_item"><a href="#type-structure_item" class="anchor"></a><code><span><span class="keyword">type</span> structure_item</span><span> = </span></code><ol><li id="type-structure_item.Pstr_value" class="def variant constructor anchored"><a href="#type-structure_item.Pstr_value" class="anchor"></a><code><span>| </span><span><span class="constructor">Pstr_value</span> <span class="keyword">of</span> <a href="#type-rec_flag">rec_flag</a> * <span><a href="#type-value_binding">value_binding</a> <a href="#type-list1">list1</a></span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> let x = ... </code></p><span class="comment-delim">*)</span></div></li><li id="type-structure_item.Pstr_type" class="def variant constructor anchored"><a href="#type-structure_item.Pstr_type" class="anchor"></a><code><span>| </span><span><span class="constructor">Pstr_type</span> <span class="keyword">of</span> <span><a href="#type-type_declaration">type_declaration</a> <a href="#type-list1">list1</a></span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code> type x = ... </code></p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-structure"><a href="#type-structure" class="anchor"></a><code><span><span class="keyword">type</span> structure</span><span> = <span><a href="#type-structure_item">structure_item</a> <a href="#type-list1">list1</a></span></span></code></div><div class="spec-doc"><p><code> (stru_item1, [ stru_item2; ...; stru_itemN ]) </code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_structure"><a href="#val-show_structure" class="anchor"></a><code><span><span class="keyword">val</span> show_structure : <span><a href="#type-structure">structure</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_structure"><a href="#val-pp_structure" class="anchor"></a><code><span><span class="keyword">val</span> pp_structure : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-structure">structure</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>
